<webc-container controller='SingleShipmentController'>
	<main class='full-flex-column'>
		<section>
			<webc-template template='header-template'></webc-template>
			<webc-template template='dashboard-menu'></webc-template>
		</section>

		<section class='header-section'>
			<div class='navigation-section'>
				<span class='nav-back' data-tag='nav-back'>
					<svg viewBox='0 0 52 52' x='0px'
					     xml:space='preserve' xmlns='http://www.w3.org/2000/svg'
					     y='0px'>
                        <path
	                        d='M50,24H6.83L27.41,3.41a2,2,0,0,0,0-2.82,2,2,0,0,0-2.82,0l-24,24a1.79,1.79,0,0,0-.25.31A1.19,1.19,0,0,0,.25,25c0,.07-.07.13-.1.2l-.06.2a.84.84,0,0,0,0,.17,2,2,0,0,0,0,.78.84.84,0,0,0,0,.17l.06.2c0,.07.07.13.1.2a1.19,1.19,0,0,0,.09.15,1.79,1.79,0,0,0,.25.31l24,24a2,2,0,1,0,2.82-2.82L6.83,28H50a2,2,0,0,0,0-4Z' />
                    </svg>
				</span>
				<span data-tag='dashboard'>Dashboard</span> / <span data-tag='dashboard'>Shipments</span> / <strong>{{@shipmentModel.shipment.shipmentId}}</strong>
			</div>

			<div class='body-main-section'>
				<div class='row-wrapper'>
					<div class='col-4 text-left'>
						<div data-if='@shipmentModel.shipment.status_approved'>
							<div class='entity-status-box background-approved'>
								<div>Shipment Status:</div>
								<div><b>{{@shipmentModel.shipment.status_value}}</b></div>
								<div>{{@shipmentModel.shipment.status_date}}</div>
							</div>
						</div>

						<div data-if="@shipmentModel.shipment.status_cancelled">
							<div class="entity-status-box background-cancelled">
								<div>Shipment Status:</div>
								<div><b>{{@shipmentModel.shipment.status_value}}</b></div>
								<div>{{@shipmentModel.shipment.status_date}}</div>
							</div>
						</div>

						<div data-if='@shipmentModel.shipment.status_normal'>
							<div class='entity-status-box background-primary'>
								<div>Shipment Status:</div>
								<div><b>{{@shipmentModel.shipment.status_value}}</b></div>
								<div>{{@shipmentModel.shipment.status_date}}</div>
							</div>
						</div>
					</div>

					<div class='col-4 text-center'>
						<div class='entity-title'><b>Shipment</b></div>
						<div class='entity-subtitle'><b>Pending Action:</b></div>
						<div class='entity-disclaimer'>{{@shipmentModel.shipment.pending_action}}</div>
					</div>

					<div class='col-4 text-right'>
						<button class='btn-default' data-tag='history-button'>
							<i class='fas fa-clock-rotate-left'></i>
							View History
						</button>
					</div>
				</div>

				<div class='row-wrapper entity-data-section'>
					<!-- Shipment Details -->
					<div class='accordion-item' data-tag='toggle-accordion'>
						<i class='fas fa-angle-right accordion-icon'></i>
						<span>Shipment Details</span>
					</div>
					<div class='accordion-item-holder'>
						<webc-template data-view-model='@' template='shipment/shipment-details'></webc-template>
					</div>

					<!-- Shipment Comments -->
					<div class='accordion-item' data-tag='toggle-accordion'>
						<i class='fas fa-angle-right accordion-icon'></i>
						<span>Shipment Comments</span>
					</div>
					<div class='accordion-item-holder overflow-auto'>
						<div class='container d-flex' data-if='@shipmentModel.shipment.comments'>
							<span class='py-3 text-muted' slot='false'>There is no comment added.</span>
							<div class="comments-container py-5 flex-column" data-for="@shipmentModel.shipment.comments" slot='true'>
								<div class="comment">
									<div class="identity"><small>{{@entity}}</small>, <small>{{@date}}</small></div>
									<div>{{@comment}}</div>
								</div>
							</div>
						</div>
					</div>

					<!-- Kits -->
					<div class='accordion-item' data-tag='toggle-accordion'>
						<i class='fas fa-angle-right accordion-icon'></i>
						<span>Kits</span>
					</div>
					<div class='accordion-item-holder' data-if='@shipmentModel.isShipmentReceived'>
						<span class='py-3 text-muted' slot='false'>Shipment not received yet</span>
						<webc-template slot='true' template='kit-summary'></webc-template>
					</div>

					<div class='row-wrapper button-wrapper'>
						<div data-if='@actions.canReceiveShipment'>
							<button class='btn-default' data-tag='scan-shipment-received'>
								<i class='fas fa-icon fa-qrcode'></i>
								Scan Shipment
							</button>
						</div>
					</div>

					<div class='row-wrapper button-wrapper'>
						<div data-if='@actions.canManageKits'>
							<button class='btn-default' data-tag='manage-kits'>
								<span class='fas fa-medkit mr-2'></span>
								Manage Kits
							</button>
						</div>
					</div>

				</div>
			</div>
		</section>
	</main>
</webc-container>